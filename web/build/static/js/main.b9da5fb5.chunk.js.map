{"version":3,"sources":["Utilities/Api.ts","App.tsx","index.tsx"],"names":["Api","axios","create","baseURL","headers","requestWrapper","args","a","url","method","data","request","res","success","console","log","response","SIZE","App","canvas_ref","useRef","useState","return_data","set_return_data","available_categories","set_available_categories","current","exportPaths","strokes","formatted_stokes","map","stroke","xs","ys","paths","point","push","x","y","points","width","height","alert","undefined","categories","useEffect","get_categories","className","cat","idx","length","ref","strokeWidth","strokeColor","onClick","clearCanvas","acurracy","toFixed","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0MAEMA,E,OAAMC,EAAMC,OAAO,CACrBC,QAAgC,wBAChCC,QAAS,CACL,YAAe,mBACf,8BAA+B,OAWhC,SAAeC,EAAtB,kC,4CAAO,WAAiCC,GAAjC,qBAAAC,EAAA,6DAECC,EAGAF,EAHAE,IACAC,EAEAH,EAFAG,OACAC,EACAJ,EADAI,KAJD,kBAQmBV,EAAIW,QAAQ,CAC1BF,SACAD,MACAE,SAXL,cAQOE,EARP,yBAcQ,CAAEC,SAAS,EAAMH,KAAME,EAAIF,OAdnC,uCAiBCI,QAAQC,IAAR,MAjBD,kBAmBQ,CAAEF,SAAS,EAAOH,KAAM,KAAEM,WAnBlC,0D,yCCZDC,EAAO,IA2GEC,MAzGf,WAEC,IAAMC,EAAaC,iBAAO,MAFZ,EAGyBC,mBAAc,MAHvC,mBAGPC,EAHO,KAGMC,EAHN,OAI2CF,mBAAmB,IAJ9D,mBAIPG,EAJO,KAIeC,EAJf,iDAMd,gCAAAlB,EAAA,yDACMY,GAAeA,EAAWO,QADhC,iEAGuBP,EAAWO,QAAQC,cAH1C,cAGOC,EAHP,OAKOC,EAAmBD,EAAQE,KAAI,SAAAC,GACpC,IAD8C,EACxCC,EAAK,GACLC,EAAK,GAFmC,cAI1BF,EAAOG,OAJmB,IAI9C,2BAAkC,CAAC,IAAxBC,EAAuB,QACjCH,EAAGI,KAAKD,EAAME,GACdJ,EAAGG,KAAKD,EAAMG,IAN+B,8BAS9C,MAAO,CAACN,EAAIC,MAdd,SAiBmB5B,EAA6D,CAC9EG,IAAK,WACLE,KAAM,CAAE6B,OAAQV,EAAkBW,MAAOvB,EAAMwB,OAAQxB,GACvDR,OAAQ,SApBV,QAiBOG,EAjBP,QAuBUC,SAAS6B,MAAM,qDACxBnB,EAAgBX,EAAIF,MAxBrB,6CANc,kEAiCd,4BAAAH,EAAA,sEACmBF,EAAuC,CACxDG,IAAK,cACLE,UAAMiC,EACNlC,OAAQ,QAJV,QACOG,EADP,QAOSC,SACPY,EAAyBb,EAAIF,KAAKkC,YARpC,4CAjCc,sBAkDd,OALAC,qBAAU,YA7CI,mCA8CbC,KACE,IAIF,sBAAKC,UAAW,gCAAhB,UACC,yBAASA,UAAW,+BAApB,SACA,oBAAIA,UAAW,kCAAf,+BAEA,0BAASA,UAAW,8EAApB,UACC,oBAAIA,UAAW,kCAAf,oCACA,oBAAIA,UAAW,4DAAf,SACGvB,EAAqBM,KAAI,SAACkB,EAAKC,GAAN,OAAe,qBAAIF,UAAW,yBAAf,UAA0CC,EAAKC,IAAQzB,EAAqB0B,OAAO,EAAI,GAAK,IAA5F,eAG5C,yBAASH,UAAW,4DAApB,SACC,cAAC,IAAD,CACCI,IAAKhC,EACLiC,YAAa,EACbC,YAAY,QACZb,MAAK,UAAKvB,EAAL,MACLwB,OAAM,UAAKxB,EAAL,UAGR,0BAAS8B,UAAW,4DAApB,UACC,wBACCO,QAxEU,2CAyEVP,UAAW,6BAFZ,oBAMA,wBACCO,QAAS,WACJnC,EAAWO,UACdP,EAAWO,QAAQ6B,cACnBhC,EAAgB,QAGlBwB,UAAW,kCAPZ,uBAaAzB,EACC,0BAASyB,UAAW,8EAApB,UACC,oBAAIA,UAAW,kCAAf,yBACA,+BACC,qBAAIA,UAAW,uCAAf,gBAA2DzB,EAAYsB,WAAW,GAAlF,MAAiH,IAAxBtB,EAAYkC,SAAS,IAAQC,QAAQ,GAA9H,OACA,qBAAIV,UAAW,uCAAf,gBAA2DzB,EAAYsB,WAAW,GAAlF,MAAiH,IAAxBtB,EAAYkC,SAAS,IAAQC,QAAQ,GAA9H,OACA,qBAAIV,UAAW,uCAAf,gBAA2DzB,EAAYsB,WAAW,GAAlF,MAAiH,IAAxBtB,EAAYkC,SAAS,IAAQC,QAAQ,GAA9H,aAGC,S,MCrGRC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.b9da5fb5.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst Api = axios.create({\n    baseURL: process.env.NODE_ENV ? 'http://localhost:5000': '',\n    headers: {\n        'ContentType': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n    }\n})\n\n\nexport interface RequestWrapperArgs {\n    url: string\n    method: 'get' | 'post'\n    data: any\n}\n\nexport async function requestWrapper<T>(args: RequestWrapperArgs) {\n    const {\n        url,\n        method,\n        data\n    } = args\n\n    try {\n        const res = await Api.request({\n            method,\n            url,\n            data\n        })\n\n        return { success: true, data: res.data as T }\n    }\n    catch (e) {\n        console.log(e)\n\n        return { success: false, data: e.response }\n    }\n}\n\n","import React, { useRef, useState } from 'react';\nimport { requestWrapper } from '../src/Utilities/Api'\nimport { ReactSketchCanvas } from \"react-sketch-canvas\";\nimport { useEffect } from 'react';\n\nconst SIZE = 28 * 16\n\nfunction App() {\n\n\tconst canvas_ref = useRef(null)\n\tconst [return_data, set_return_data] = useState<any>(null)\n\tconst [available_categories, set_available_categories] = useState<string[]>([])\n\n\tasync function on_submit() {\n\t\tif (!canvas_ref || !canvas_ref.current) return\n\n\t\tconst strokes = await canvas_ref.current.exportPaths()\n\n\t\tconst formatted_stokes = strokes.map(stroke => {\n\t\t\tconst xs = []\n\t\t\tconst ys = []\n\t\t\t\n\t\t\tfor (const point of stroke.paths) {\n\t\t\t\txs.push(point.x)\n\t\t\t\tys.push(point.y)\n\t\t\t}\n\n\t\t\treturn [xs, ys]\n\t\t});\n\n\t\tconst res = await requestWrapper<{ categories: string[], accuracy: string[] }>({\n\t\t\turl: '/predict',\n\t\t\tdata: { points: formatted_stokes, width: SIZE, height: SIZE },\n\t\t\tmethod: 'post'\n\t\t})\n\n\t\tif (!res.success) alert('Infleizmente ocorreu um erro durante a requisicao')\n\t\tset_return_data(res.data)\n\t}\n\n\tasync function get_categories() {\n\t\tconst res = await requestWrapper<{categories: string[]}>({\n\t\t\turl: '/categories',\n\t\t\tdata: undefined,\n\t\t\tmethod: 'get'\n\t\t})\n\n\t\tif (res.success) {\n\t\t\tset_available_categories(res.data.categories)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tget_categories()\n\t}, [])\n\n\n\treturn (\n\t\t<div className={'w-full h-screen bg-lightBlack'}>\n\t\t\t<section className={'w-full p-2 container mx-auto'}>\n\t\t\t<h1 className={'text-white text-center text-3xl'}>Drawing Guesser</h1>\n\t\t\t</section>\n\t\t\t<section className={'w-full p-2 container mx-auto flex flex-col justify-center items-center mt-5'}>\n\t\t\t\t<h2 className={'text-white text-center text-2xl'}>Categorias Disponiveis</h2>\n\t\t\t\t<ul className={'w-2/5 flex flex-row items-center justify-center flex-wrap'}>\n\t\t\t\t\t{ available_categories.map((cat, idx) => (<li className={'text-white text-l px-1'}>{cat}{idx === available_categories.length-1 ? '' : ','} </li>)) }\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t\t<section className={'w-full p-2 container mx-auto flex flex-row justify-center'}>\n\t\t\t\t<ReactSketchCanvas\n\t\t\t\t\tref={canvas_ref}\n\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\tstrokeColor=\"black\"\n\t\t\t\t\twidth={`${SIZE}px`}\n\t\t\t\t\theight={`${SIZE}px`}\n\t\t\t\t/>\n\t\t\t</section>\n\t\t\t<section className={'w-full p-2 container mx-auto flex flex-row justify-center'}>\n\t\t\t\t<button\n\t\t\t\t\tonClick={on_submit} \n\t\t\t\t\tclassName={'bg-white px-3 py-2 rounded'}\n\t\t\t\t>\n\t\t\t\t\tEnviar\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (canvas_ref.current) {\n\t\t\t\t\t\t\tcanvas_ref.current.clearCanvas()\n\t\t\t\t\t\t\tset_return_data(null)\n\t\t\t\t\t\t}\n\t\t\t\t\t}} \n\t\t\t\t\tclassName={'bg-white px-3 py-2 rounded ml-5'}\n\t\t\t\t>\n\t\t\t\t\tLimpar\n\t\t\t\t</button>\n\t\t\t</section>\n\t\t\t{\n\t\t\t\treturn_data ? (\n\t\t\t\t\t<section className={'w-full p-2 container mx-auto flex flex-col justify-center items-center mt-5'}>\n\t\t\t\t\t\t<h2 className={'text-white text-center text-3xl'}>Resultados:</h2>\n\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t<li className={'text-white text-center text-xl py-2 '}>1. {return_data.categories[0]}: {(return_data.acurracy[0]*100).toFixed(2)}%</li>\n\t\t\t\t\t\t\t<li className={'text-white text-center text-xl py-2 '}>2. {return_data.categories[1]}: {(return_data.acurracy[1]*100).toFixed(2)}%</li>\n\t\t\t\t\t\t\t<li className={'text-white text-center text-xl py-2 '}>3. {return_data.categories[2]}: {(return_data.acurracy[2]*100).toFixed(2)}%</li>\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t</section>\n\t\t\t\t) : null\n\t\t\t}\n\t\t</div>\n\t\t);\n\t}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}